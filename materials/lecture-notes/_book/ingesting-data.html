<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Lecture Notes: Introduction to Data Science</title>
  <meta name="description" content="Lecture Notes: Introduction to Data Science">
  <meta name="generator" content="bookdown 0.5 and GitBook 2.6.7">

  <meta property="og:title" content="Lecture Notes: Introduction to Data Science" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Lecture Notes: Introduction to Data Science" />
  
  
  

<meta name="author" content="Héctor Corrada Bravo">


<meta name="date" content="2018-01-21">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="r-principles.html">
<link rel="next" href="tidying-data.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preamble</a></li>
<li class="chapter" data-level="2" data-path="introduction-and-overview.html"><a href="introduction-and-overview.html"><i class="fa fa-check"></i><b>2</b> Introduction and Overview</a><ul>
<li class="chapter" data-level="2.1" data-path="introduction-and-overview.html"><a href="introduction-and-overview.html#what-is-data-science"><i class="fa fa-check"></i><b>2.1</b> What is Data Science?</a><ul>
<li class="chapter" data-level="2.1.1" data-path="introduction-and-overview.html"><a href="introduction-and-overview.html#data"><i class="fa fa-check"></i><b>2.1.1</b> Data</a></li>
<li class="chapter" data-level="2.1.2" data-path="introduction-and-overview.html"><a href="introduction-and-overview.html#specific-questions"><i class="fa fa-check"></i><b>2.1.2</b> Specific Questions</a></li>
<li class="chapter" data-level="2.1.3" data-path="introduction-and-overview.html"><a href="introduction-and-overview.html#interdisciplinary-activities"><i class="fa fa-check"></i><b>2.1.3</b> Interdisciplinary Activities</a></li>
<li class="chapter" data-level="2.1.4" data-path="introduction-and-overview.html"><a href="introduction-and-overview.html#data-centric-artifacts-and-applications"><i class="fa fa-check"></i><b>2.1.4</b> Data-centric artifacts and applications</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="introduction-and-overview.html"><a href="introduction-and-overview.html#why-data-science"><i class="fa fa-check"></i><b>2.2</b> Why Data Science?</a></li>
<li class="chapter" data-level="2.3" data-path="introduction-and-overview.html"><a href="introduction-and-overview.html#data-science-in-humanities-and-social-sciences"><i class="fa fa-check"></i><b>2.3</b> Data Science in Humanities and Social Sciences</a></li>
<li class="chapter" data-level="2.4" data-path="introduction-and-overview.html"><a href="introduction-and-overview.html#course-organization"><i class="fa fa-check"></i><b>2.4</b> Course organization</a><ul>
<li class="chapter" data-level="2.4.1" data-path="introduction-and-overview.html"><a href="introduction-and-overview.html#day-1-introduction-and-preparation"><i class="fa fa-check"></i><b>2.4.1</b> Day 1: Introduction and preparation</a></li>
<li class="chapter" data-level="2.4.2" data-path="introduction-and-overview.html"><a href="introduction-and-overview.html#day-2-use-cases"><i class="fa fa-check"></i><b>2.4.2</b> Day 2: Use cases</a></li>
<li class="chapter" data-level="2.4.3" data-path="introduction-and-overview.html"><a href="introduction-and-overview.html#day-3-presentation-and-teaching"><i class="fa fa-check"></i><b>2.4.3</b> Day 3: Presentation and teaching</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="introduction-and-overview.html"><a href="introduction-and-overview.html#general-workflow"><i class="fa fa-check"></i><b>2.5</b> General Workflow</a><ul>
<li class="chapter" data-level="2.5.1" data-path="introduction-and-overview.html"><a href="introduction-and-overview.html#defining-the-goal"><i class="fa fa-check"></i><b>2.5.1</b> Defining the goal</a></li>
<li class="chapter" data-level="2.5.2" data-path="introduction-and-overview.html"><a href="introduction-and-overview.html#data-collection-and-management"><i class="fa fa-check"></i><b>2.5.2</b> Data collection and Management</a></li>
<li class="chapter" data-level="2.5.3" data-path="introduction-and-overview.html"><a href="introduction-and-overview.html#modeling"><i class="fa fa-check"></i><b>2.5.3</b> Modeling</a></li>
<li class="chapter" data-level="2.5.4" data-path="introduction-and-overview.html"><a href="introduction-and-overview.html#model-evaluation"><i class="fa fa-check"></i><b>2.5.4</b> Model evaluation</a></li>
<li class="chapter" data-level="2.5.5" data-path="introduction-and-overview.html"><a href="introduction-and-overview.html#presentation"><i class="fa fa-check"></i><b>2.5.5</b> Presentation</a></li>
<li class="chapter" data-level="2.5.6" data-path="introduction-and-overview.html"><a href="introduction-and-overview.html#deployment"><i class="fa fa-check"></i><b>2.5.6</b> Deployment</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="an-illustrative-analysis.html"><a href="an-illustrative-analysis.html"><i class="fa fa-check"></i><b>3</b> An Illustrative Analysis</a><ul>
<li class="chapter" data-level="3.1" data-path="an-illustrative-analysis.html"><a href="an-illustrative-analysis.html#gathering-data"><i class="fa fa-check"></i><b>3.1</b> Gathering data</a><ul>
<li class="chapter" data-level="3.1.1" data-path="an-illustrative-analysis.html"><a href="an-illustrative-analysis.html#movie-ratings"><i class="fa fa-check"></i><b>3.1.1</b> Movie ratings</a></li>
<li class="chapter" data-level="3.1.2" data-path="an-illustrative-analysis.html"><a href="an-illustrative-analysis.html#movie-budgets-and-revenue"><i class="fa fa-check"></i><b>3.1.2</b> Movie budgets and revenue</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="an-illustrative-analysis.html"><a href="an-illustrative-analysis.html#manipulating-the-data"><i class="fa fa-check"></i><b>3.2</b> Manipulating the data</a></li>
<li class="chapter" data-level="3.3" data-path="an-illustrative-analysis.html"><a href="an-illustrative-analysis.html#visualizing-the-data"><i class="fa fa-check"></i><b>3.3</b> Visualizing the data</a></li>
<li class="chapter" data-level="3.4" data-path="an-illustrative-analysis.html"><a href="an-illustrative-analysis.html#modeling-data"><i class="fa fa-check"></i><b>3.4</b> Modeling data</a></li>
<li class="chapter" data-level="3.5" data-path="an-illustrative-analysis.html"><a href="an-illustrative-analysis.html#visualizing-model-result"><i class="fa fa-check"></i><b>3.5</b> Visualizing model result</a></li>
<li class="chapter" data-level="3.6" data-path="an-illustrative-analysis.html"><a href="an-illustrative-analysis.html#abstracting-the-analysis"><i class="fa fa-check"></i><b>3.6</b> Abstracting the analysis</a></li>
<li class="chapter" data-level="3.7" data-path="an-illustrative-analysis.html"><a href="an-illustrative-analysis.html#making-analyses-accessible"><i class="fa fa-check"></i><b>3.7</b> Making analyses accessible</a></li>
<li class="chapter" data-level="3.8" data-path="an-illustrative-analysis.html"><a href="an-illustrative-analysis.html#summary"><i class="fa fa-check"></i><b>3.8</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="setting-up-r.html"><a href="setting-up-r.html"><i class="fa fa-check"></i><b>4</b> Setting up R</a><ul>
<li class="chapter" data-level="4.1" data-path="setting-up-r.html"><a href="setting-up-r.html#setting-up-r-1"><i class="fa fa-check"></i><b>4.1</b> Setting up R</a></li>
<li class="chapter" data-level="4.2" data-path="setting-up-r.html"><a href="setting-up-r.html#setting-up-rstudio"><i class="fa fa-check"></i><b>4.2</b> Setting up Rstudio</a></li>
<li class="chapter" data-level="4.3" data-path="setting-up-r.html"><a href="setting-up-r.html#a-first-look-at-rstudio"><i class="fa fa-check"></i><b>4.3</b> A first look at Rstudio</a><ul>
<li class="chapter" data-level="4.3.1" data-path="setting-up-r.html"><a href="setting-up-r.html#interactive-console"><i class="fa fa-check"></i><b>4.3.1</b> Interactive Console</a></li>
<li class="chapter" data-level="4.3.2" data-path="setting-up-r.html"><a href="setting-up-r.html#data-viewer"><i class="fa fa-check"></i><b>4.3.2</b> Data Viewer</a></li>
<li class="chapter" data-level="4.3.3" data-path="setting-up-r.html"><a href="setting-up-r.html#names-values-and-functions"><i class="fa fa-check"></i><b>4.3.3</b> Names, values and functions</a></li>
<li class="chapter" data-level="4.3.4" data-path="setting-up-r.html"><a href="setting-up-r.html#plotting"><i class="fa fa-check"></i><b>4.3.4</b> Plotting</a></li>
<li class="chapter" data-level="4.3.5" data-path="setting-up-r.html"><a href="setting-up-r.html#editor"><i class="fa fa-check"></i><b>4.3.5</b> Editor</a></li>
<li class="chapter" data-level="4.3.6" data-path="setting-up-r.html"><a href="setting-up-r.html#files-viewer"><i class="fa fa-check"></i><b>4.3.6</b> Files viewer</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="setting-up-r.html"><a href="setting-up-r.html#r-packages"><i class="fa fa-check"></i><b>4.4</b> R packages</a></li>
<li class="chapter" data-level="4.5" data-path="setting-up-r.html"><a href="setting-up-r.html#finishing-your-setup"><i class="fa fa-check"></i><b>4.5</b> Finishing your setup</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="r-principles.html"><a href="r-principles.html"><i class="fa fa-check"></i><b>5</b> R Principles</a><ul>
<li class="chapter" data-level="5.1" data-path="r-principles.html"><a href="r-principles.html#some-history"><i class="fa fa-check"></i><b>5.1</b> Some history</a></li>
<li class="chapter" data-level="5.2" data-path="r-principles.html"><a href="r-principles.html#additional-r-resources"><i class="fa fa-check"></i><b>5.2</b> Additional R resources</a></li>
<li class="chapter" data-level="5.3" data-path="r-principles.html"><a href="r-principles.html#literate-programming"><i class="fa fa-check"></i><b>5.3</b> Literate Programming</a></li>
<li class="chapter" data-level="5.4" data-path="r-principles.html"><a href="r-principles.html#a-data-analysis-to-get-us-going"><i class="fa fa-check"></i><b>5.4</b> A data analysis to get us going</a></li>
<li class="chapter" data-level="5.5" data-path="r-principles.html"><a href="r-principles.html#getting-data"><i class="fa fa-check"></i><b>5.5</b> Getting data</a></li>
<li class="chapter" data-level="5.6" data-path="r-principles.html"><a href="r-principles.html#variables-and-value"><i class="fa fa-check"></i><b>5.6</b> Variables and Value</a></li>
<li class="chapter" data-level="5.7" data-path="r-principles.html"><a href="r-principles.html#indexing"><i class="fa fa-check"></i><b>5.7</b> Indexing</a></li>
<li class="chapter" data-level="5.8" data-path="r-principles.html"><a href="r-principles.html#exploration"><i class="fa fa-check"></i><b>5.8</b> Exploration</a></li>
<li class="chapter" data-level="5.9" data-path="r-principles.html"><a href="r-principles.html#functions"><i class="fa fa-check"></i><b>5.9</b> Functions</a></li>
<li class="chapter" data-level="5.10" data-path="r-principles.html"><a href="r-principles.html#a-note-on-data-types"><i class="fa fa-check"></i><b>5.10</b> A note on data types</a></li>
<li class="chapter" data-level="5.11" data-path="r-principles.html"><a href="r-principles.html#thinking-in-vectors"><i class="fa fa-check"></i><b>5.11</b> Thinking in vectors</a></li>
<li class="chapter" data-level="5.12" data-path="r-principles.html"><a href="r-principles.html#lists-vs.vectors"><i class="fa fa-check"></i><b>5.12</b> Lists vs. vectors</a></li>
<li class="chapter" data-level="5.13" data-path="r-principles.html"><a href="r-principles.html#making-the-process-explicit-with-pipes"><i class="fa fa-check"></i><b>5.13</b> Making the process explicit with pipes</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="ingesting-data.html"><a href="ingesting-data.html"><i class="fa fa-check"></i><b>6</b> Ingesting data</a><ul>
<li class="chapter" data-level="6.1" data-path="ingesting-data.html"><a href="ingesting-data.html#structured-ingestion"><i class="fa fa-check"></i><b>6.1</b> Structured ingestion</a><ul>
<li class="chapter" data-level="6.1.1" data-path="ingesting-data.html"><a href="ingesting-data.html#csv-files-and-similar"><i class="fa fa-check"></i><b>6.1.1</b> CSV files (and similar)</a></li>
<li class="chapter" data-level="6.1.2" data-path="ingesting-data.html"><a href="ingesting-data.html#excel-spreadsheets"><i class="fa fa-check"></i><b>6.1.2</b> Excel spreadsheets</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="ingesting-data.html"><a href="ingesting-data.html#scraping"><i class="fa fa-check"></i><b>6.2</b> Scraping</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="tidying-data.html"><a href="tidying-data.html"><i class="fa fa-check"></i><b>7</b> Tidying data</a><ul>
<li class="chapter" data-level="7.1" data-path="tidying-data.html"><a href="tidying-data.html#tidy-data"><i class="fa fa-check"></i><b>7.1</b> Tidy Data</a></li>
<li class="chapter" data-level="7.2" data-path="tidying-data.html"><a href="tidying-data.html#common-problems-in-messy-data"><i class="fa fa-check"></i><b>7.2</b> Common problems in messy data</a><ul>
<li class="chapter" data-level="7.2.1" data-path="tidying-data.html"><a href="tidying-data.html#headers-as-values"><i class="fa fa-check"></i><b>7.2.1</b> Headers as values</a></li>
<li class="chapter" data-level="7.2.2" data-path="tidying-data.html"><a href="tidying-data.html#multiple-variables-in-one-column"><i class="fa fa-check"></i><b>7.2.2</b> Multiple variables in one column</a></li>
<li class="chapter" data-level="7.2.3" data-path="tidying-data.html"><a href="tidying-data.html#variables-stored-in-both-rows-and-columns"><i class="fa fa-check"></i><b>7.2.3</b> Variables stored in both rows and columns</a></li>
<li class="chapter" data-level="7.2.4" data-path="tidying-data.html"><a href="tidying-data.html#multiple-types-in-one-table"><i class="fa fa-check"></i><b>7.2.4</b> Multiple types in one table</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="tidying-data.html"><a href="tidying-data.html#data-wrangling-with-dplyr"><i class="fa fa-check"></i><b>7.3</b> Data wrangling with <code>dplyr</code></a><ul>
<li class="chapter" data-level="7.3.1" data-path="tidying-data.html"><a href="tidying-data.html#dplyr"><i class="fa fa-check"></i><b>7.3.1</b> <code>dplyr</code></a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="tidying-data.html"><a href="tidying-data.html#single-table-manipulation"><i class="fa fa-check"></i><b>7.4</b> Single-table manipulation</a><ul>
<li class="chapter" data-level="7.4.1" data-path="tidying-data.html"><a href="tidying-data.html#subsetting-observations"><i class="fa fa-check"></i><b>7.4.1</b> Subsetting Observations</a></li>
<li class="chapter" data-level="7.4.2" data-path="tidying-data.html"><a href="tidying-data.html#subsetting-variables"><i class="fa fa-check"></i><b>7.4.2</b> Subsetting Variables</a></li>
<li class="chapter" data-level="7.4.3" data-path="tidying-data.html"><a href="tidying-data.html#creating-new-variables"><i class="fa fa-check"></i><b>7.4.3</b> Creating New Variables</a></li>
<li class="chapter" data-level="7.4.4" data-path="tidying-data.html"><a href="tidying-data.html#summarizing-data"><i class="fa fa-check"></i><b>7.4.4</b> Summarizing Data</a></li>
<li class="chapter" data-level="7.4.5" data-path="tidying-data.html"><a href="tidying-data.html#grouping-data"><i class="fa fa-check"></i><b>7.4.5</b> Grouping Data</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="tidying-data.html"><a href="tidying-data.html#two-table-manipulation"><i class="fa fa-check"></i><b>7.5</b> Two-table manipulation</a><ul>
<li class="chapter" data-level="7.5.1" data-path="tidying-data.html"><a href="tidying-data.html#left-join"><i class="fa fa-check"></i><b>7.5.1</b> Left Join</a></li>
<li class="chapter" data-level="7.5.2" data-path="tidying-data.html"><a href="tidying-data.html#join-conditions"><i class="fa fa-check"></i><b>7.5.2</b> Join conditions</a></li>
<li class="chapter" data-level="7.5.3" data-path="tidying-data.html"><a href="tidying-data.html#filtering-joins"><i class="fa fa-check"></i><b>7.5.3</b> Filtering Joins</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="tidying-data.html"><a href="tidying-data.html#final-note-on-dplyr"><i class="fa fa-check"></i><b>7.6</b> Final note on <code>dplyr</code></a></li>
<li class="chapter" data-level="7.7" data-path="tidying-data.html"><a href="tidying-data.html#exercise"><i class="fa fa-check"></i><b>7.7</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="visualizing-data.html"><a href="visualizing-data.html"><i class="fa fa-check"></i><b>8</b> Visualizing data</a><ul>
<li class="chapter" data-level="8.0.1" data-path="visualizing-data.html"><a href="visualizing-data.html#eda-exploratory-data-analysis"><i class="fa fa-check"></i><b>8.0.1</b> EDA (Exploratory Data Analysis)</a></li>
<li class="chapter" data-level="8.1" data-path="visualizing-data.html"><a href="visualizing-data.html#visualization-of-single-variables"><i class="fa fa-check"></i><b>8.1</b> Visualization of single variables</a><ul>
<li class="chapter" data-level="8.1.1" data-path="visualizing-data.html"><a href="visualizing-data.html#visualization-of-pairs-of-variables"><i class="fa fa-check"></i><b>8.1.1</b> Visualization of pairs of variables</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="visualizing-data.html"><a href="visualizing-data.html#eda-with-the-grammar-of-graphics"><i class="fa fa-check"></i><b>8.2</b> EDA with the grammar of graphics</a><ul>
<li class="chapter" data-level="8.2.1" data-path="visualizing-data.html"><a href="visualizing-data.html#other-aesthetics"><i class="fa fa-check"></i><b>8.2.1</b> Other aesthetics</a></li>
<li class="chapter" data-level="8.2.2" data-path="visualizing-data.html"><a href="visualizing-data.html#faceting"><i class="fa fa-check"></i><b>8.2.2</b> Faceting</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="visualizing-data.html"><a href="visualizing-data.html#exercise-1"><i class="fa fa-check"></i><b>8.3</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="capstone-project-1.html"><a href="capstone-project-1.html"><i class="fa fa-check"></i><b>9</b> Capstone Project 1</a><ul>
<li class="chapter" data-level="9.1" data-path="capstone-project-1.html"><a href="capstone-project-1.html#project-1"><i class="fa fa-check"></i><b>9.1</b> Project 1</a></li>
<li class="chapter" data-level="9.2" data-path="capstone-project-1.html"><a href="capstone-project-1.html#project-2"><i class="fa fa-check"></i><b>9.2</b> Project 2</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="introduction-to-tidy-regression-analysis.html"><a href="introduction-to-tidy-regression-analysis.html"><i class="fa fa-check"></i><b>10</b> Introduction to tidy regression analysis</a><ul>
<li class="chapter" data-level="10.1" data-path="introduction-to-tidy-regression-analysis.html"><a href="introduction-to-tidy-regression-analysis.html#simple-regression"><i class="fa fa-check"></i><b>10.1</b> Simple Regression</a></li>
<li class="chapter" data-level="10.2" data-path="introduction-to-tidy-regression-analysis.html"><a href="introduction-to-tidy-regression-analysis.html#inference"><i class="fa fa-check"></i><b>10.2</b> Inference</a><ul>
<li class="chapter" data-level="10.2.1" data-path="introduction-to-tidy-regression-analysis.html"><a href="introduction-to-tidy-regression-analysis.html#confidence-interval"><i class="fa fa-check"></i><b>10.2.1</b> Confidence Interval</a></li>
<li class="chapter" data-level="10.2.2" data-path="introduction-to-tidy-regression-analysis.html"><a href="introduction-to-tidy-regression-analysis.html#the-t-statistic-and-the-t-distribution"><i class="fa fa-check"></i><b>10.2.2</b> The <span class="math inline">\(t\)</span>-statistic and the <span class="math inline">\(t\)</span>-distribution</a></li>
<li class="chapter" data-level="10.2.3" data-path="introduction-to-tidy-regression-analysis.html"><a href="introduction-to-tidy-regression-analysis.html#global-fit"><i class="fa fa-check"></i><b>10.2.3</b> Global Fit</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="introduction-to-tidy-regression-analysis.html"><a href="introduction-to-tidy-regression-analysis.html#some-important-technicalities"><i class="fa fa-check"></i><b>10.3</b> Some important technicalities</a></li>
<li class="chapter" data-level="10.4" data-path="introduction-to-tidy-regression-analysis.html"><a href="introduction-to-tidy-regression-analysis.html#issues-with-linear-regression"><i class="fa fa-check"></i><b>10.4</b> Issues with linear regression</a><ul>
<li class="chapter" data-level="10.4.1" data-path="introduction-to-tidy-regression-analysis.html"><a href="introduction-to-tidy-regression-analysis.html#non-linearity-of-outcome-predictor-relationship"><i class="fa fa-check"></i><b>10.4.1</b> Non-linearity of outcome-predictor relationship</a></li>
<li class="chapter" data-level="10.4.2" data-path="introduction-to-tidy-regression-analysis.html"><a href="introduction-to-tidy-regression-analysis.html#correlated-error"><i class="fa fa-check"></i><b>10.4.2</b> Correlated Error</a></li>
<li class="chapter" data-level="10.4.3" data-path="introduction-to-tidy-regression-analysis.html"><a href="introduction-to-tidy-regression-analysis.html#non-constant-variance"><i class="fa fa-check"></i><b>10.4.3</b> Non-constant variance</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="introduction-to-tidy-regression-analysis.html"><a href="introduction-to-tidy-regression-analysis.html#multivariate-regression"><i class="fa fa-check"></i><b>10.5</b> Multivariate Regression</a><ul>
<li class="chapter" data-level="10.5.1" data-path="introduction-to-tidy-regression-analysis.html"><a href="introduction-to-tidy-regression-analysis.html#estimation-in-multivariate-regression"><i class="fa fa-check"></i><b>10.5.1</b> Estimation in multivariate regression</a></li>
<li class="chapter" data-level="10.5.2" data-path="introduction-to-tidy-regression-analysis.html"><a href="introduction-to-tidy-regression-analysis.html#statistical-statements-contd"><i class="fa fa-check"></i><b>10.5.2</b> Statistical statements (cont’d)</a></li>
<li class="chapter" data-level="10.5.3" data-path="introduction-to-tidy-regression-analysis.html"><a href="introduction-to-tidy-regression-analysis.html#the-f-test"><i class="fa fa-check"></i><b>10.5.3</b> The F-test</a></li>
<li class="chapter" data-level="10.5.4" data-path="introduction-to-tidy-regression-analysis.html"><a href="introduction-to-tidy-regression-analysis.html#categorical-predictors-contd"><i class="fa fa-check"></i><b>10.5.4</b> Categorical predictors (cont’d)</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="introduction-to-tidy-regression-analysis.html"><a href="introduction-to-tidy-regression-analysis.html#interactions-in-linear-models"><i class="fa fa-check"></i><b>10.6</b> Interactions in linear models</a></li>
<li class="chapter" data-level="10.7" data-path="introduction-to-tidy-regression-analysis.html"><a href="introduction-to-tidy-regression-analysis.html#additional-issues-with-linear-regression"><i class="fa fa-check"></i><b>10.7</b> Additional issues with linear regression</a></li>
<li class="chapter" data-level="10.8" data-path="introduction-to-tidy-regression-analysis.html"><a href="introduction-to-tidy-regression-analysis.html#exercise-2"><i class="fa fa-check"></i><b>10.8</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="text-analysis.html"><a href="text-analysis.html"><i class="fa fa-check"></i><b>11</b> Text analysis</a></li>
<li class="chapter" data-level="12" data-path="capstone-2-project.html"><a href="capstone-2-project.html"><i class="fa fa-check"></i><b>12</b> Capstone 2 Project</a></li>
<li class="chapter" data-level="13" data-path="publishing-analyses-with-r.html"><a href="publishing-analyses-with-r.html"><i class="fa fa-check"></i><b>13</b> Publishing Analyses with R</a><ul>
<li class="chapter" data-level="13.1" data-path="publishing-analyses-with-r.html"><a href="publishing-analyses-with-r.html#rmarkdown"><i class="fa fa-check"></i><b>13.1</b> RMarkdown</a></li>
<li class="chapter" data-level="13.2" data-path="publishing-analyses-with-r.html"><a href="publishing-analyses-with-r.html#shiny"><i class="fa fa-check"></i><b>13.2</b> Shiny</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="teaching-with-r.html"><a href="teaching-with-r.html"><i class="fa fa-check"></i><b>14</b> Teaching with R</a><ul>
<li class="chapter" data-level="14.1" data-path="teaching-with-r.html"><a href="teaching-with-r.html#course-materials"><i class="fa fa-check"></i><b>14.1</b> Course materials</a></li>
<li class="chapter" data-level="14.2" data-path="teaching-with-r.html"><a href="teaching-with-r.html#assignments"><i class="fa fa-check"></i><b>14.2</b> Assignments</a></li>
<li class="chapter" data-level="14.3" data-path="teaching-with-r.html"><a href="teaching-with-r.html#free-and-open-source"><i class="fa fa-check"></i><b>14.3</b> Free and open source</a></li>
<li class="chapter" data-level="14.4" data-path="teaching-with-r.html"><a href="teaching-with-r.html#wide-range-of-activities"><i class="fa fa-check"></i><b>14.4</b> Wide range of activities</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="day-3-capstone-project.html"><a href="day-3-capstone-project.html"><i class="fa fa-check"></i><b>15</b> Day 3 Capstone Project</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Lecture Notes: Introduction to Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="ingesting-data" class="section level1">
<h1><span class="header-section-number">6</span> Ingesting data</h1>
<p>Now that we have a better understanding of the R data analysis language, we turn to the first significant challenge in data analysis, getting data into R in a shape that we can use to start our analysis. We will look at two types of data ingestion: <em>structured ingestion</em>, where we read data that is already structured, like a comma separated value (CSV) file, and <em>scraping</em> where we obtain data from text, usually in websites.</p>
<div id="structured-ingestion" class="section level2">
<h2><span class="header-section-number">6.1</span> Structured ingestion</h2>
<div id="csv-files-and-similar" class="section level3">
<h3><span class="header-section-number">6.1.1</span> CSV files (and similar)</h3>
<p>We saw in a previous chapter how we can use the <code>read_csv</code> file to read data from a CSV file into a data frame. Comma separated value (CSV) files are structured in a somewhat regular way, so reading into a data frame is straightforward. Each line in the CSV file corresponds to an observation (a row in a data frame). Each line contains values separated by a comma (<code>,</code>), corresponding to the variables of each observation.</p>
<p>This ideal principle of how a CSV file is constructed is frequently violated by data contained in CSV files. To get a sense of how to deal with these cases look at the documentation of the <code>read_csv</code> function. For instance:</p>
<ul>
<li><p>the first line of the file may or may not contain the names of variables for the data frame (<code>col_names</code> argument).</p></li>
<li><p>strings are quoted using <code>'</code> instead of <code>&quot;</code> (<code>quote</code> argument)</p></li>
<li><p>missing data is encoded with a non-standard code, e.g., <code>-</code> (<code>na</code> argument)</p></li>
<li><p>values are separated by a character other than <code>,</code> (<code>read_delim</code> function)</p></li>
<li><p>file may contain header information before the actual data so we have to skip some lines when loading the data (<code>skip</code> argument)</p></li>
</ul>
<p>You should read the documentation of the <code>read_csv</code> function to appreciate the complexities it can maneuver when reading data from structured text files.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">?read_csv</code></pre></div>
</div>
<div id="excel-spreadsheets" class="section level3">
<h3><span class="header-section-number">6.1.2</span> Excel spreadsheets</h3>
<p>Often you will need to ingest data that is stored in an Excel spreadsheet. The <code>readxl</code> package is used to do this. The main function for this package is the <code>read_excel</code> function. It contains similar arguments to the <code>read_csv</code> function we saw above.</p>
<p><strong>On your own:</strong> Use the <code>read_excel</code> function to parse migration data from the 2009 INEGI national survey contained in file <code>data/Migracion_interna_eua.xls</code>.</p>
</div>
</div>
<div id="scraping" class="section level2">
<h2><span class="header-section-number">6.2</span> Scraping</h2>
<p>Often, data we want to use is hosted as part of HTML files in webpages. The markup structure of HTML allows to parse data into tables we can use for analysis. Let’s use the Rotten Tomatoes ratings webpage for Diego Luna as an example:</p>
<div class="figure">
<img src="img/rt_diegoluna.png" />

</div>
<p>We can scrape ratings for his movies from this page. To do this we need to figure out how the HTML page’s markup can help us write R expressions to find this data in the page. Most web browsers have facilities to show page markup. In Google Chrome, you can use <code>View&gt;Developer&gt;Developer Tools</code>, and inspect the page markdown to find where the data is contained. In this example, we see that the data we want is in a <code>&lt;table&gt;</code> element in the page, with id <code>filmographyTbl</code>.</p>
<div class="figure">
<img src="img/rt_devtools.png" />

</div>
<p>Now that we have that information, we can use the <code>rvest</code> package to scrape this data:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(rvest)

url &lt;-<span class="st"> &quot;https://www.rottentomatoes.com/celebrity/diego_luna&quot;</span>

dl_tab &lt;-<span class="st"> </span>url <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">read_html</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">html_node</span>(<span class="st">&quot;#filmographyTbl&quot;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">html_table</span>()

<span class="kw">head</span>(dl_tab)</code></pre></div>
<pre><code>##   RATING                        TITLE
## 1     5%                   Flatliners
## 2    85% Rogue One: A Star Wars Story
## 3    88%                 Blood Father
## 4    62%            Mr. Pig (Sr. Pig)
## 5    82%             The Book of Life
## 6    39%                 Cesar Chavez
##                                                                                                                                                                                                                                                                                                     CREDIT
## 1                                                                                                                                                                                                                                                                                                      Ray
## 2                                                                                                                                                                                                                                                                                    Captain Cassian Andor
## 3                                                                                                                                                                                                                                                                                                    Jonah
## 4 Producer\n                                                \n                                    \n                                            Screenwriter\n                                                \n                                    \n                                            Director
## 5                                                                                                                                                                                                                                                                                                   Manolo
## 6                                                                                                                                                   Producer\n                                                \n                                    \n                                            Director
##   BOX OFFICE YEAR
## 1     $16.9M 2017
## 2    $532.2M 2016
## 3          — 2016
## 4          — 2016
## 5          — 2014
## 6      $5.6M 2014</code></pre>
<p>The main two functions we used here are <code>html_node</code> and <code>html_table</code>. <code>html_node</code> finds elements in the HTML page according to some selection criteria. Since we want the element with <code>id=filmographyTbl</code> we use the <code>#</code> selection operation since that corresponds to selection by id. Once the desired element in the page is selected, we can use the <code>html_table</code> function to parse the element’s text into a data frame.</p>
<p><strong>On your own:</strong> If you wanted to extract the TV filmography from the page, how would you change this call?</p>
<p><strong>On your own:</strong> We can get movie budget and gross information from this page: <a href="http://www.the-numbers.com/movie/budgets/all" class="uri">http://www.the-numbers.com/movie/budgets/all</a>. Write R code to scrape the budget data from that page.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="r-principles.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="tidying-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": ["lecture-notes_csmc320.pdf"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
